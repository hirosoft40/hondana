(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5708:function(e,t,a){e.exports=a(6238)},5717:function(e,t,a){},5718:function(e,t,a){},6084:function(e,t,a){},6086:function(e,t,a){},6088:function(e,t,a){},6091:function(e,t,a){},6092:function(e,t,a){},6111:function(e,t,a){},6140:function(e,t,a){},6141:function(e,t,a){},6238:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),l=a.n(o),i=a(26),c=a(21),s=a(22),u=a(24),m=a(23),d=a(25),h=(a(5717),a(31)),p=a(38),g=a(5),f=(a(5718),a(192)),E=a.n(f),b=function(e){return console.log(e),function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),o=a().firebase.auth.uid;r.collection("bookLog").add({item:Object(h.a)({},e),userId:o,createdAt:new Date}).then(function(){t({type:"ADD_BOOKLOG_MANUAL",bookLog:e})})}},y=new Date,O="".concat(y.toJSON().slice(0,10)),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0,startDate:O})},a.handleClose=function(){a.setState({open:!1})},a.handleChange=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.title,r=t.authors;!n||n.length<1?a.setState({errorText:"Please fill in Title"}):!r||r.length<1?a.setState({errorText:"Please fill in Author"}):(a.props.onAddBook(Object(h.a)({},a.state,{imageLinks:{smallThumbnail:"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg"},listPrice:{amount:0,currencyCode:"USD"},startDate:a.state.startDate?new Date(a.state.startDate):new Date})),a.setState({open:!1}))},a.state={open:!1,errorText:"",title:"",authors:"",pageCount:0,startDate:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.MenuItem,{onClick:this.handleClickOpen,onClose:this.handleClose,className:"popText"},r.a.createElement(E.a,{className:"popIcon"}),"Add to Book Log"),r.a.createElement("form",null,r.a.createElement(g.Dialog,{open:this.state.open,onClose:this.handleClose,className:"mainDialog","aria-labelledby":"form-dialog-title"},r.a.createElement("p",{className:"error"},this.state.errorText),r.a.createElement(g.DialogTitle,{className:"dialogtitle",id:"form-dialog-title",onClick:this.handleClose},"Add Book Information"),r.a.createElement(g.DialogContent,{className:"dialog"},r.a.createElement(g.TextField,{required:!0,autoFocus:!0,margin:"dense",id:"title",label:"Title",onChange:this.handleChange("title"),fullWidth:!0}),r.a.createElement(g.TextField,{required:!0,autoFocus:!0,margin:"dense",id:"authors",label:"Author",onChange:this.handleChange("authors"),fullWidth:!0}),r.a.createElement(g.TextField,{required:!0,id:"startDate",label:"Started Reading on ",onChange:this.handleChange("startDate"),defaultValue:O,InputLabelProps:{shrink:!0}}),r.a.createElement("br",null),r.a.createElement(g.TextField,{autoFocus:!0,margin:"dense",id:"pageCount",label:"Pages of the book",type:"number",onChange:this.handleChange("pages"),InputProps:{inputProps:{min:0}}})),r.a.createElement(g.DialogActions,null,r.a.createElement(g.Button,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(g.Button,{onClick:this.handleSubmit,color:"primary"},"Add to Book Log")))))}}]),t}(r.a.Component);var C=Object(i.b)(null,function(e){return{onAddBook:function(t){return e(b(t))}}})(v),k=a(43),j=a(40),N=a(56),L=(a(6084),a(305)),D=a.n(L);var S=Object(k.compose)(Object(i.b)(function(e){return{dailyLog:e.firestore.ordered.dailyLog?e.firestore.ordered.dailyLog:[]}},null),Object(j.firestoreConnect)(function(e){return e.id?[{collection:"dailyLog",where:[["item.bookId","==",e.id]]}]:[]}))(function(e){var t=e.dailyLog;if(!Object(j.isLoaded)(t))return r.a.createElement("div",null,"Loading....");if(Object(j.isEmpty)(t))return r.a.createElement("p",{className:"error"},"You have not read this book yet.");var a=t.map(function(e,t){var a=e.item,n=a.logDay,o=a.pgRead,l=e.item.minutesRead?"(".concat(e.item.minutesRead," mins)"):"",i=n?D()(n.toDate().toJSON()).format("YYYY-MM-DD"):"",c="".concat(i,": ").concat(o," pages ").concat(l);return r.a.createElement("div",{key:t},r.a.createElement("ul",{key:t,className:"ulRecord"},r.a.createElement("li",{key:t},c)))});return r.a.createElement(N.Col,{className:"data"},r.a.createElement("p",null,"Record of this book"),a)}),w=function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),o=a().firebase.auth.uid;r.collection("dailyLog").add({item:e,userId:o,createdAt:new Date}).then(function(){t({type:"ADD_DAILY_LOG",dailyLog:e})}).catch(function(e){console.log("ADD_DAILY_LOG_ERROR",e),t({type:"ADD_DAILY_LOG_ERROR"})})}},I=a(57),R=a(58),B=(a(6086),new Date),A="".concat(B.toJSON().slice(0,10)),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,completed:!1,errorText:""},a.onClickOpen=function(){var e=a.props,t=e.title,n=e.authors;a.setState({open:!0,logDay:A,title:t,authors:n,minutesRead:0})},a.onClose=function(){a.setState({open:!1})},a.handleChange=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a.onSubmitDailyLog=function(e){e.preventDefault(),a.state.logDay&&""!==a.state.logDay?(a.props.onDailyLogAdd(Object(h.a)({},a.state,{logDay:new Date(a.state.logDay),bookId:a.props.id,pgRead:parseInt(a.state.pgRead),minutesRead:parseInt(a.state.minutesRead)})),a.setState({open:!1})):a.setState({errorText:"Please fill in Log Date."})},a.handleCompleted=function(e){e.preventDefault(),a.setState(function(e){return{completed:!e.completed}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.open,a=e.title,n=e.authors,o=e.logDay;return r.a.createElement("div",null,r.a.createElement(g.IconButton,{onClick:this.onClickOpen},r.a.createElement(I.a,{icon:R.a})),r.a.createElement("form",null,r.a.createElement(g.Dialog,{open:t,onClose:this.onClose,className:"mainDialog_daily","aria-labelledby":"form-dialog-title"},r.a.createElement("p",{className:"error"},this.state.errorText),r.a.createElement(g.Grid,null,r.a.createElement(N.Row,{className:"firstRow"},r.a.createElement(g.DialogTitle,{className:"dialogtitle",id:"form-dialog-title"},a,r.a.createElement("br",null),"by ",n)),r.a.createElement(N.Row,{className:"midRow"},r.a.createElement(N.Col,{className:"leftCol"},r.a.createElement(g.DialogContent,{className:"dialog_daily"},r.a.createElement(g.TextField,{required:!0,id:"logDay",label:"Log Date",type:"Date",onChange:this.handleChange("logDay"),defaultValue:o,InputLabelProps:{shrink:!0}}),r.a.createElement(g.TextField,{autoFocus:!0,margin:"dense",id:"pgRead",label:"Pages read ",type:"number",defaultValue:0,onChange:this.handleChange("pgRead"),InputProps:{inputProps:{min:0}}}),r.a.createElement(g.TextField,{margin:"dense",id:"minutesRead",label:"Minutes read",type:"number",defaultValue:0,onChange:this.handleChange("minutesRead"),InputProps:{inputProps:{min:0}}}),r.a.createElement(g.TextField,{margin:"dense",id:"journal",label:"Journal",multiline:!0,rows:5,rowsMax:7,onChange:this.handleChange("journal"),fullWidth:!0}))),r.a.createElement(S,{id:this.props.id,className:"rightCol"})),r.a.createElement(N.Row,{className:"lastRow"},r.a.createElement(g.DialogActions,null,r.a.createElement(g.Button,{onClick:this.onSubmitDailyLog,color:"primary"},"Add to Daily Log"),r.a.createElement(g.Button,{onClick:this.onClose,color:"primary"},"Cancel")))))))}}]),t}(r.a.Component);var x=Object(i.b)(null,function(e){return{onDailyLogAdd:function(t){return e(w(t))}}})(T),M=a(33),F=function(e){return function(t,a,n){n.getFirebase,(0,n.getFirestore)().collection("bookLog").doc(e.id).update({completed:e.completed,endDate:e.endDate}).then(function(){t({type:"UPDATE_COMPLETED",bookLog:e.completed})})}},P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleCompleted=function(e){e.preventDefault(),a.setState(function(e){return{completed:!e.completed}}),a.props.addCompl({completed:!a.state.completed,endDate:a.state.completed?null:new Date,id:a.props.id})},a.state={completed:!!a.props.completed&&a.props.completed,id:a.props.id},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g.IconButton,{onClick:this.handleCompleted},r.a.createElement(M.e,{color:this.state.completed?"error":"inherit"}))}}]),t}(n.Component);var _=Object(i.b)(null,function(e){return{addCompl:function(t){return e(F(t))}}})(P),G=function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("bookLog").doc(e.id).delete().then(function(){t({type:"DELETE_BOOKLOG",dailyLog:e})}).catch(function(e){console.log("DELETE_BOOKLOG_ERROR",e)})}},U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.onDeleteRequest=function(e){e.preventDefault(),a.props.onDeleteBookLog({id:a.props.id}),a.setState({open:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.IconButton,{onClick:this.handleClickOpen},r.a.createElement(M.g,{size:"small"})),r.a.createElement(g.Dialog,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(g.DialogTitle,{id:"alert-dialog-title"},"Are you sure you want to delete this book?"),r.a.createElement(g.DialogContent,null,r.a.createElement(g.DialogContentText,{id:"alert-dialog-description"},this.props.title,r.a.createElement("br",null),"by ",this.props.authors)),r.a.createElement(g.DialogActions,null,r.a.createElement(g.Button,{onClick:this.onDeleteRequest,color:"primary",autoFocus:!0},"Delete"),r.a.createElement(g.Button,{onClick:this.handleClose,color:"primary"},"Cancel"))))}}]),t}(n.Component);var W=Object(i.b)(null,function(e){return{onDeleteBookLog:function(t){return e(G(t))}}})(U),q=a(6241),Y=a(6239),z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"renderList",value:function(e){if(e)return e.map(function(e,t){var a=e.item,n=a.title,o=a.authors,l=a.pageCount,i=a.imageLinks,c=a.startDate,s=e.completed,u=(e.favorite,n.length<46?n:n.slice(0,46)+" ...");return r.a.createElement("div",{className:"mainDiv",key:t,id:e.id},r.a.createElement("div",{className:"headerDiv"},r.a.createElement("div",{className:"leftIcon"},r.a.createElement(W,{id:e.id,title:n,authors:o})),r.a.createElement("img",{src:i.smallThumbnail,alt:n}),r.a.createElement("div",{className:"iconDiv"},r.a.createElement(x,{title:n,authors:o,id:e.id}),r.a.createElement(_,{id:e.id,completed:s}))),r.a.createElement("div",{className:"bodyDiv compStatus"},r.a.createElement("div",{className:"title"},u),r.a.createElement("div",null,o),r.a.createElement("div",null,"Total Pages: ",l?"".concat(l," Pages"):" unknown "),r.a.createElement("div",null,"Started Reading on"," ",c.toDate().toJSON().slice(0,10))))})}},{key:"render",value:function(){var e=this.state.anchorEl;return this.props.auth.uid?r.a.createElement(N.Grid,{className:"main"},r.a.createElement(N.Row,{className:"row"},this.renderList(this.props.bookLog),r.a.createElement("div",{className:"sample"},r.a.createElement(g.IconButton,{"aria-owns":e?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(M.c,null)),r.a.createElement(g.Menu,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.handleClose},r.a.createElement(C,null),r.a.createElement(Y.a,{to:"/search",className:"link"},r.a.createElement(g.MenuItem,{onClick:this.handleClose,className:"popText"},r.a.createElement(M.i,{className:"popIcon"}),"Search New Book")))))):r.a.createElement(q.a,{to:"signin"})}}]),t}(n.Component);var J=Object(k.compose)(Object(i.b)(function(e){return{bookLog:e.firestore.ordered.bookLog,auth:e.firebase.auth}},{addBookLogManual:b}),Object(j.firestoreConnect)(function(e){return e.auth.uid?[{collection:"bookLog",where:[["userId","==",e.auth.uid]]}]:[]}))(z),K=(a(6088),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"d"},r.a.createElement("div",{style:{padding:2}},r.a.createElement(J,null)))}}]),t}(n.Component)),V=a(307),Q=a.n(V),H=a(504),X=a(190),Z=a.n(X),$=a(73),ee=a.n($),te=(a(6091),a(193)),ae=a.n(te),ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"renderList",value:function(){var e=this,t=this.state.anchorEl,a=this.props,n=a.book,o=a.sale,l=this.props.sale,i=l.saleability,c=l.buyLink;return r.a.createElement("div",{className:"buttomnav"},r.a.createElement(ee.a,{"arial-label":"Action","aria-owns":t?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(M.b,null)),r.a.createElement(g.Menu,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:this.handleClose},r.a.createElement(g.MenuItem,{className:"popText",onClick:function(){return e.props.onAddBook(Object(h.a)({},n,o,{startDate:new Date}))}},r.a.createElement(Y.a,{to:"/",className:"link"},r.a.createElement(M.h,{className:"popIcon"}),"Add to Book Log")),r.a.createElement(g.MenuItem,{onClick:this.handleClose,className:"popText"},r.a.createElement(M.f,{className:"popIcon"}),"Add to Favorite"),"undefined"!==typeof n.previewLink?r.a.createElement(g.MenuItem,{className:"popText"},r.a.createElement("a",{href:n.previewLink,rel:"noopener noreferrer",target:"_blank"},r.a.createElement(M.d,{className:"popIcon"}),"Preview the Book")):"","FOR_SALE"===i?r.a.createElement(g.MenuItem,{href:c,target:"_blank",className:"popText"},r.a.createElement("a",{href:c,rel:"noopener noreferrer",target:"_blank"},r.a.createElement(ae.a,{className:"popIcon"}),"Buy on GooglePlay")):""))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderList())}}]),t}(r.a.Component);var re=Object(i.b)(null,function(e){return{onAddBook:function(t){return e(b(t))}}})(ne),oe=(a(6092),function(e){var t=e.book,a=e.sale,n=e.onBookSelect,o=t.title,l=t.authors,i=t.categories,c=t.pageCount,s=t.imageLinks,u=a.saleability,m=a.listPrice;return t?r.a.createElement("div",{onClick:function(){return n(t)}},r.a.createElement(Z.a,{className:"card"},r.a.createElement(g.Grid,{spacing:0,container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement("img",{alt:o,component:"img",src:t.hasOwnProperty("imageLinks")?s.smallThumbnail:"",title:o}),r.a.createElement(g.Grid,{item:!0,xs:!0,className:"cardBody"},r.a.createElement("h4",null,o),r.a.createElement("span",{className:"authors"},"by ",l),r.a.createElement("p",null,i?"".concat(i):"",c?" - ".concat(c," pages"):"","FOR_SALE"===u?" - ".concat(m.currencyCode,"  ").concat(m.amount," "):"")),r.a.createElement(g.Grid,{item:!0,xs:1},r.a.createElement(re,{book:t,sale:a}))))):r.a.createElement("div",null,"Loading")}),le=function(){return{booklist:{padding:2}}},ie=function(e){var t=e.books,a=e.onBookSelect,n=t.map(function(e,t){return r.a.createElement(g.Grid,{container:!0,key:t,spacing:16,direction:"row",justify:"space-around",alignItems:"center"},r.a.createElement(g.Grid,{item:!0,xs:12},r.a.createElement(oe,{className:le.booklist,key:e.id,onBookSelect:a,id:e.id,book:e.volumeInfo,sale:e.saleInfo})))});return r.a.createElement("div",null,n)},ce=a(505),se=a.n(ce).a.create({baseURL:"https://www.googleapis.com/books/v1",params:{maxResults:20}}),ue=a(135),me=a.n(ue),de=a(74),he=a.n(de),pe=(a(6111),a(191)),ge=a.n(pe),fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({searchQuery:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.handleSubmit(a.state.searchQuery)},a.state={searchQuery:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search"},r.a.createElement("h1",null,"Search Books"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(he.a,{className:"searchBar",type:"text",name:"search",placeholder:"Which book are you looking for?",value:this.state.searchQuery,onChange:this.handleChange.bind(this)}),r.a.createElement(ge.a,{"aria-label":"Search",onClick:this.handleSubmit,className:"searchbaricon"},r.a.createElement(me.a,{className:"white"}))))}}]),t}(n.Component),Ee={color:"red",fontWeight:"bold"},be={fontSize:"14px",color:"gray",fontStyle:"italic",marginTop:"10px",paddingTop:"10px",borderTop:"1px double gray"},ye=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onBookSelect=function(e){a.setState({bookSelected:e})},a.onSearchStart=function(){var e=Object(H.a)(Q.a.mark(function e(t){return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=3;break}return e.next=3,se.get("/volumes",{params:{q:t}}).then(function(e){e.data.totalItems>0?a.setState({books:e.data.items,totalItems:e.data.totalItems,error:!1}):a.setState({error:!0,errorMsg:"Sorry! No matching results. Try again with different wording."})}).catch(function(e){a.setState({errorMsg:"Something Went Wrong: ".concat(e),error:!0})});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.onSearchStart("")}},{key:"renderList",value:function(e){return!e.error&&e.totalItems>0?r.a.createElement("div",null,r.a.createElement(ie,{books:e.books,onBookSelect:this.onBookSelect}),r.a.createElement("div",{style:be},"Not happy with search results? Type in Manually.",r.a.createElement(C,null))):e.error?r.a.createElement("h3",{className:"error",style:Ee},e.errorMsg,r.a.createElement("br",null),r.a.createElement("br",null),"Or.... type in Book Detail manually.",r.a.createElement(C,null)):void 0}},{key:"render",value:function(){return r.a.createElement(g.Grid,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(fe,{handleSubmit:this.onSearchStart}),this.renderList(this.state))}}]),t}(n.Component),Oe=a(37);var ve=function(e,t){if(void 0===e)return{bookLog:[]};switch(t.type){case"ADD_BOOKLOG_MANUAL":return Object(h.a)({},e,{bookLog:e.bookLog.concat(t.bookLog)});case"DELETE_BOOKLOG":var a=e.bookLog.filter(function(a){return e.bookLog.id!==t.bookLog.id});return Object(h.a)({},e,{bookLog:a});default:return e}};var Ce=function(e,t){if(void 0===e)return{dailyLog:[]};switch(t.type){case"ADD_DAILY_LOG":return Object(h.a)({},e,{dailyLog:e.dailyLog.concat(t.dailyLog)});case"ADD_DAILY_LOG_ERROR":return console.log("create project error"),e;default:return e}},ke={authError:null},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(h.a)({},e,{authError:" Login Failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(h.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(h.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(h.a)({},e,{authError:t.err.message});default:return e}},Ne=a(137),Le=Object(k.combineReducers)({auth:je,bookLog:ve,dailyLog:Ce,firestore:Ne.firestoreReducer,firebase:j.firebaseReducer}),De=a(506),Se=a(6240),we=a(6242),Ie=a(6243),Re=a(507),Be=a(194),Ae=a.n(Be),Te=(a(6140),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,mobileMoreAnchorEl:null},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null}),a.handleMobileMenuClose()},a.handleLogOut=function(){a.handleMenuClose(),a.props.signOut()},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.mobileMoreAnchorEl,n=this.props,o=n.classes,l=n.auth,i=n.profile,c=Boolean(t),s=Boolean(a),u=l.uid?r.a.createElement(g.MenuItem,{onClick:this.handleLogOut},"SignOut ",r.a.createElement(I.a,{icon:R.f,style:{marginLeft:"5"}})):r.a.createElement(g.MenuItem,{onClick:this.handleMenuClose},r.a.createElement(Y.a,{to:"/signin",style:{textDecoration:"none"}},"SignIn ",r.a.createElement(I.a,{icon:R.e,style:{marginLeft:"5"}}))),m=r.a.createElement(g.Menu,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:this.handleMenuClose},u),d=r.a.createElement(g.Menu,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:this.handleMenuClose},r.a.createElement(g.MenuItem,{onClick:this.handleProfileMenuOpen},r.a.createElement(g.IconButton,{color:"inherit"},r.a.createElement(M.j,null),r.a.createElement("p",null,"Search Books")),r.a.createElement(g.IconButton,{color:"inherit"},r.a.createElement(I.a,{icon:R.d}),r.a.createElement("p",null,"My Book List")),r.a.createElement(g.IconButton,{color:"inherit"},r.a.createElement(M.a,null)),r.a.createElement("p",null,"Profile"))),h=l.uid?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{to:"/",className:"link white"},r.a.createElement(g.IconButton,{color:"inherit"},r.a.createElement(I.a,{icon:R.c}))),r.a.createElement(Y.a,{to:"/history",className:"link white"},r.a.createElement(g.IconButton,{color:"inherit"},r.a.createElement(I.a,{icon:R.d})))):r.a.createElement(Y.a,{to:"/signup",className:"link white"},r.a.createElement(g.IconButton,{color:"inherit"},r.a.createElement(I.a,{style:{fontSize:"1.4rem"},icon:R.g})));return r.a.createElement("div",{className:o.root},r.a.createElement(g.AppBar,{position:"static",className:"appbar"},r.a.createElement(g.Toolbar,null,r.a.createElement(g.Typography,{className:"title",variant:"h6",color:"inherit",noWrap:!0},r.a.createElement("span",null,r.a.createElement(Y.a,{to:"/",className:"brand"},"MyHondana: Bookshelf",r.a.createElement(I.a,{className:"logo",icon:R.b})))),r.a.createElement("div",{className:o.grow}),r.a.createElement("div",{className:o.sectionDesktop},r.a.createElement(Y.a,{to:"/search",className:"link white"},r.a.createElement(g.IconButton,{color:"inherit"},r.a.createElement(M.i,null))),h,r.a.createElement(g.IconButton,{"aria-owns":c?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,className:"link white"},l.uid?r.a.createElement(g.Avatar,{className:"avatar"},i.initials):r.a.createElement(M.a,null))),r.a.createElement("div",{className:o.sectionMobile},r.a.createElement(g.IconButton,{disabled:!0,"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,className:"link white"},r.a.createElement(Ae.a,null))))),m,d)}}]),t}(r.a.Component)),xe=Object(i.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}},function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(Object(Oe.withStyles)(function(e){return{grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(p.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(p.a)({display:"none"},e.breakpoints.up("md"),{display:"flex",alignItems:"center"}),sectionMobile:Object(p.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})(Te)),Me=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xe,null),this.props.children)}}]),t}(r.a.Component),Fe=(a(6141),a(508)),Pe=a.n(Fe),_e=a(509),Ge=a.n(_e),Ue=a(309),We="mainGrid",qe="rightChart";Ue.b.addAdapter(Ge.a);var Ye=Object(k.compose)(Object(i.b)(function(e){return{dailyLog:e.firestore.ordered.dailyLog?e.firestore.ordered.dailyLog:[],auth:e.firebase.auth}},null),Object(j.firestoreConnect)(function(e){return e.auth.uid?[{collection:"dailyLog",where:[["userId","==",e.auth.uid]],queryParams:["orderByChild=logDay"]}]:[]}))(function(e){var t=e.dailyLog;if(!e.auth.uid)return r.a.createElement(q.a,{to:"/signin"});if(!Object(j.isLoaded)(t))return r.a.createElement("div",null,"Loading...");if(Object(j.isEmpty)(t))return r.a.createElement("p",{className:"error"},"No Data Available");var a=[];return t.forEach(function(e,t){var n=e.item,r=n.logDay,o=n.title,l=n.authors,i=n.pgRead,c=n.minutesRead,s=r?r.toDate().toJSON().slice(0,10):"";a.push([s,i,c,o,l])}),r.a.createElement(g.Grid,{container:!0,direction:"row",justify:"space-between",className:We},r.a.createElement(g.Grid,{item:!0,xs:7},r.a.createElement("div",null,r.a.createElement(Pe.a,{title:"List of Book Read",data:a,columns:["Date","Pages","Minutes","Title","Author"]}))),r.a.createElement(g.Grid,{item:!0,xs:5,className:"charts"},r.a.createElement("div",{className:qe},r.a.createElement("div",null,r.a.createElement("h3",null,"Pages and Minutes you read")),function(){var e={},a={};if(t){t.forEach(function(t){var n=t.item,r=n.logDay,o=n.pgRead,l=n.minutesRead,i=r?r.toDate().toJSON().slice(0,10):"";e[i]=l,a[i]=o});var n=[{name:"Minutes Read",data:e},{name:"Pages Read",data:a}];return r.a.createElement(Ue.a,{data:n})}}())))}),ze=a(308),Je=a.n(ze);a(6231),a(6236);Je.a.initializeApp({apiKey:"AIzaSyDR7NaGBjHc5KpuI5B7kkooFbGld-eB9k0",authDomain:"myhondana.firebaseapp.com",databaseURL:"https://myhondana.firebaseio.com",projectId:"myhondana",storageBucket:"",messagingSenderId:"406013617199"});var Ke=Je.a,Ve=a(109),Qe=a.n(Ve),He=a(6),Xe=a.n(He),Ze=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.authError;return e.auth.uid?r.a.createElement(q.a,{to:"/"}):r.a.createElement("main",{className:t.main},r.a.createElement(g.CssBaseline,null),r.a.createElement(g.Paper,{className:t.paper},r.a.createElement(g.Avatar,{className:t.avatar},r.a.createElement(Qe.a,null)),r.a.createElement(g.Typography,{component:"h1",variant:"h5"},"Sign In"),r.a.createElement(g.Typography,{component:"h1",variant:"h6",color:"error",style:{marginTop:"10px"}},a||null),r.a.createElement("form",{className:t.form,onSubmit:this.handleSubmit},r.a.createElement(g.FormControl,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(g.InputLabel,{htmlFor:"email"},"Email Address"),r.a.createElement(g.Input,{id:"email",name:"email",autoComplete:"email",onChange:this.handleChange,autoFocus:!0})),r.a.createElement(g.FormControl,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(g.InputLabel,{htmlFor:"password"},"Password"),r.a.createElement(g.Input,{name:"password",type:"password",id:"password",onChange:this.handleChange,autoComplete:"current-password"})),r.a.createElement(g.FormControlLabel,{control:r.a.createElement(g.Checkbox,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(g.Button,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign in"))))}}]),t}(r.a.Component),$e=Object(i.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(Xe()(function(e){return{main:Object(p.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Ze)),et=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(p.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.auth,n=e.authError;return a.uid?r.a.createElement(q.a,{to:"/"}):r.a.createElement("main",{className:t.main},r.a.createElement(g.CssBaseline,null),r.a.createElement(g.Paper,{className:t.paper},r.a.createElement(g.Avatar,{className:t.avatar},r.a.createElement(Qe.a,null)),r.a.createElement(g.Typography,{component:"h1",variant:"h5"},"Sign Up"),r.a.createElement(g.Typography,{component:"h1",variant:"h6",color:"error",style:{marginTop:"10px"}},n||null),r.a.createElement("form",{className:t.form,onSubmit:this.handleSubmit},r.a.createElement(g.FormControl,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(g.InputLabel,{htmlFor:"email"},"Email Address"),r.a.createElement(g.Input,{id:"email",name:"email",autoComplete:"email",onChange:this.handleChange,autoFocus:!0})),r.a.createElement(g.FormControl,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(g.InputLabel,{htmlFor:"password"},"Password"),r.a.createElement(g.Input,{name:"password",type:"password",id:"password",onChange:this.handleChange,autoComplete:"current-password"})),r.a.createElement(g.FormControl,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(g.InputLabel,{htmlFor:"firstName"},"First Name"),r.a.createElement(g.Input,{id:"firstName",name:"firstName",autoComplete:"firstName",onChange:this.handleChange})),r.a.createElement(g.FormControl,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(g.InputLabel,{htmlFor:"lastName"},"Last Name"),r.a.createElement(g.Input,{id:"lastName",name:"lastName",autoComplete:"lastName",onChange:this.handleChange})),r.a.createElement(g.Button,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up"))))}}]),t}(r.a.Component),tt=Object(i.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,o=n.getFirestore,l=r(),i=o();l.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(Xe()(function(e){return{main:Object(p.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(et)),at=Object(k.createStore)(Le,Object(De.composeWithDevTools)(Object(k.applyMiddleware)(Re.a.withExtraArgument({getFirebase:j.getFirebase,getFirestore:Ne.getFirestore})),Object(Ne.reduxFirestore)(Ke),Object(j.reactReduxFirebase)(Ke,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0}))),nt=Object(Oe.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"#26a69a",ligth:"#64d8cb",dark:"#00766c"},secondary:{main:"#ffee58",light:"#ffff8b",dark:"#c9bc1f"}}});at.firebaseAuthIsReady.then(function(){l.a.render(r.a.createElement(i.a,{store:at},r.a.createElement(Se.a,null,r.a.createElement(Oe.MuiThemeProvider,{theme:nt},r.a.createElement(Me,null,r.a.createElement(we.a,null,r.a.createElement(Ie.a,{exact:!0,path:"/",component:K}),r.a.createElement(Ie.a,{path:"/search",component:ye}),r.a.createElement(Ie.a,{path:"/history",component:Ye}),r.a.createElement(Ie.a,{path:"/signin",component:$e}),r.a.createElement(Ie.a,{path:"/signup",component:tt}),r.a.createElement(Ie.a,{path:"/signout",component:tt})))))),document.getElementById("root"))})}},[[5708,1,2]]]);
//# sourceMappingURL=main.528e535a.chunk.js.map